---
title: Робота в Twinmotion
sidebar_position: 6
---

## Робота в Twinmotion

Після того, як 3D-модель інфраструктурного об'єкта належним чином підготовлена та експортована (у форматі FBX, IFC або через прямий зв'язок), починається етап її "оживлення" в програмі для візуалізації. Twinmotion, завдяки своєму інтуїтивному інтерфейсу, рендерингу в реальному часі та великій бібліотеці ресурсів, є потужним інструментом для створення високоякісних демонстраційних матеріалів.

### 7.5.1. Імпорт моделі (FBX або пряме посилання, якщо є плагін) в Twinmotion

Першим кроком у Twinmotion є завантаження вашої 3D-моделі.

#### **A. Методи імпорту:**

1.  **Прямий імпорт файлів (Direct Import):**
    *   У лівій нижній частині інтерфейсу Twinmotion натисніть кнопку "**Import**" (Імпорт).
    *   У вікні, що відкрилося, натисніть кнопку "**Open**" (Відкрити) або "**Geometry**" (Геометрія) та оберіть ваш файл моделі.
    *   **Підтримувані формати для прямого імпорту:**
        *   **FBX (.fbx): Рекомендований формат** для імпорту моделей, підготовлених, наприклад, у Blender або експортованих з інших 3D-редакторів. Добре передає геометрію, ієрархію, UV-координати та іноді базові матеріали.
        *   **SKP (.skp):** Файли SketchUp.
        *   **OBJ (.obj):** Поширений формат 3D-геометрії.
        *   **C4D (.c4d):** Файли Cinema 4D.
        *   **Інші формати 3D-графіки.**
    *   **Імпорт IFC (.ifc):** Twinmotion (через Unreal Engine) підтримує імпорт IFC-файлів. Якість імпорту може залежати від складності IFC-моделі та її структури. Іноді краще конвертувати IFC в FBX через Blender для більшого контролю.
2.  **Прямий зв'язок (Direct Link) через плагіни Datasmith:**
    *   Epic Games розробляє плагіни Datasmith для багатьох популярних САПР та BIM-програм (наприклад, Revit, ArchiCAD, SketchUp Pro, Rhino, 3ds Max).
    *   **Принцип роботи:** Плагін встановлюється у вихідну програму (наприклад,

ст. 158


Revit). У Twinmotion активується функція Direct Link. Зміни, зроблені у вихідній моделі, можуть бути синхронізовані з моделлю в Twinmotion майже в реальному часі або за запитом.

*   **Переваги:** Дуже зручно для ітераційного процесу проєктування та візуалізації. Не потрібно постійно експортувати/імпортувати файли.
*   **Для Civil 3D:** Прямого зв'язку Datasmith для Civil 3D як такого може не бути. Робочий процес зазвичай передбачає експорт з Civil 3D у формат, який підтримується Direct Link (наприклад, передача моделі в Revit, а потім зв'язок Revit з Twinmotion) або експорт у FBX/IFC. Однак, перевіряйте актуальну інформацію на сайті Epic Games, оскільки підтримка програм постійно розширюється.

### B. Налаштування параметрів імпорту (Import Options):

При імпорті файлу (особливо FBX) Twinmotion зазвичай пропонує декілька опцій:

*   **Collapse (Об'єднання/Згортання геометрії):**
    *   **Keep hierarchy (Зберегти ієрархію):** Рекомендовано. Зберігає структуру об'єктів, як вона була організована у вихідному файлі (наприклад, групи, окремі меші). Це критично важливо для подальшого призначення матеріалів окремим елементам.
    *   **Collapse by material (Об'єднати за матеріалом):** Об'єднує всі об'єкти з однаковим матеріалом в один меш. Може бути корисним для оптимізації, але ускладнить індивідуальне редагування.
    *   **Collapse all (Об'єднати все):** Об'єднує всю модель в один єдиний об'єкт. **Категорично не рекомендується** для складних моделей, оскільки унеможливить призначення різних матеріалів та роботу з окремими частинами.
*   **Up axis (Вертикальна вісь):** Зазвичай Twinmotion автоматично визначає правильну вертикальну вісь (Y-up або Z-up) на основі інформації з файлу. Якщо модель імпортується повернутою, тут можна спробувати змінити цей параметр.
*   **Scale (Масштаб):** Зазвичай залишається "Auto-detect" (Автовизначення) або 1.0, якщо одиниці у вихідному файлі та в Twinmotion узгоджені (зазвичай метри).
*   **Process (Обробка) / Fixes (Виправлення):**
    *   **Fix UVs / Texture coordinates (Виправити UV / Текстурні координати):** Може допомогти, якщо є проблеми з накладанням текстур.
    *   **Recalculate Normals (Перерахувати нормалі):** Якщо є проблеми з освітленням або "вивернутими" поверхнями.

### C. Розміщення моделі у сцені:

*   Після імпорту модель з'явиться у сцені Twinmotion.
*   Використовуйте інструменти навігації (клавіші W, A, S, D, Q, E, права кнопка миші) для огляду моделі.
*   Якщо модель імпортувалася не в центрі сцени або потребує переміщення/повороту, використовуйте інструменти "Move" (Переміщення), "Rotate" (Поворот), "Scale" (Масштаб) на панелі інструментів або через "gizmo" (маніпулятор), що з'являється при виборі об'єкта.
*   **Scenegraph (Граф сцени):** У правій частині інтерфейсу знаходиться Scenegraph, який відображає ієрархію всіх об'єктів у сцені. Тут можна вибирати, перейменовувати, групувати, приховувати/показувати окремі частини імпортованої моделі. Якщо ви обрали "Keep

ст. 159


"hierarchy" при імпорті, тут буде видно структуру вашої моделі.

### 7.5.2. Налаштування сцени: додавання оточення (ландшафт, вода)

Після імпорту основної моделі необхідно створити або налаштувати оточуюче середовище.

#### A. Ландшафт (Terrain):

*   **Стартовий ландшафт Twinmotion:** За замовчуванням Twinmotion створює базову пласку поверхню.
*   **Імпорт власного рельєфу:**
    *   Якщо у вас є детальна модель рельєфу з основного ПЗ (наприклад, поверхня з Civil 3D, експортована як FBX або через LandXML -> Blender -> FBX), її потрібно імпортувати та розмістити відносно вашої основної моделі.
    *   Twinmotion також підтримує імпорт карт висот (Heightmaps) у форматах .r16 або .png для створення ландшафту.
*   **Інструменти для редагування ландшафту в Twinmotion:**
    *   **Vegetation and Landscape -> Landscape -> Sculpt.** Дозволяє "ліпити" рельєф: піднімати, опускати, згладжувати, створювати пагорби та западини. Ці інструменти більше підходять для створення стилізованого або невеликого локального рельєфу, а не для точного відтворення геодезичних даних на великих територіях.
    *   **Vegetation and Landscape -> Landscape -> Paint.** Дозволяє "фарбувати" ландшафт різними матеріалами (трава, ґрунт, пісок, каміння).
*   **Контекстний ландшафт (Context Landscape):**
    *   Twinmotion має функцію для завантаження контекстного рельєфу та доріг з OpenStreetMap для обраної ділянки на карті світу (**Urban -> Context**). Якість цих даних може бути різною залежно від регіону. Для України ці дані зазвичай мають низьку детальність.

#### B. Водні об'єкти (Water):

*   **Vegetation and Landscape -> Water.**
*   Дозволяє додавати площини води для імітації річок, озер, морів.
*   **Налаштування матеріалу води:** Тип води (озеро, океан, басейн), колір, прозорість, хвилі, брижі, відображення.

#### C. Оточення (Environment):

*   **Settings -> Environment -> Background.**
*   **HDRI Backdrop (HDRI Фон):** Можна завантажити панорамне зображення високої роздільної здатності (HDRI) для створення реалістичного фону та освітлення сцени. Twinmotion має вбудовану бібліотеку HDRI.
*   **Sky dome (Небесний купол):** Динамічний небесний купол з налаштуванням хмар, сонця.
*   **City background (Міський фон):** Можливість додати стилізований міський фон на горизонті.

### 7.5.3. Налаштування матеріалів: присвоєння реалістичних матеріалів елементам моделі

<br>
<p align="center">ст. 160</p>


Це один з найважливіших етапів для досягнення фотореалізму. Twinmotion використовує систему **PBR-матеріалів (Physically Based Rendering)**, які імітують взаємодію світла з реальними поверхнями.

### A. Бібліотека матеріалів Twinmotion:

* У лівій панелі (**Library -> Materials**) знаходиться велика бібліотека готових PBR-матеріалів, згрупованих за категоріями:
    * **Ground (Земля):** Асфальт, бетон, ґрунт, пісок, трава, бруківка.
    * **Nature (Природа):** Каміння, скелі, кора дерев.
    * **Wall coverings (Настінні покриття):** Цегла, штукатурка, плитка, дерев'яні панелі.
    * **Roofing (Покрівля).**
    * **Metal (Метал):** Різні типи металів (сталь, алюміній, мідь, іржавий метал) з різним ступенем шорсткості та відбиття.
    * **Concrete (Бетон):** Різні види бетону.
    * **Wood (Дерево):** Різні породи та обробка деревини.
    * **Glass (Скло):** Прозоре, тоноване, матове скло.
    * **Plastic (Пластик).**
    * **Fabric (Тканина).**
    * **Water (Вода).**
    * **Luminous (Світні матеріали).**
    * **Special (Спеціальні):** Наприклад, матеріали для дорожньої розмітки.

### B. Призначення матеріалів:

1. **Вибір об'єкта:** У сцені виберіть об'єкт або частину моделі, якій потрібно призначити матеріал. Якщо модель була імпортована зі збереженням ієрархії, ви зможете вибирати окремі елементи (наприклад, окремий шар дорожнього одягу, бордюр, стійку знаку).
2. **Перетягування матеріалу:** З бібліотеки матеріалів перетягніть обраний матеріал безпосередньо на об'єкт у сцені.
3. **Заміна матеріалу (Material Picker):**
    * Активуйте інструмент "**Material Picker**" (Піпетка для матеріалів) на верхній панелі.
    * Клацніть на поверхні у сцені, матеріал якої потрібно змінити.
    * У властивостях матеріалу (внизу) оберіть новий матеріал з бібліотеки або налаштуйте поточний.

### C. Налаштування параметрів матеріалу:

Після призначення матеріалу його властивості можна детально налаштувати в нижній панелі:

* **Color (Колір):** Основний колір матеріалу. Можна обрати колір або завантажити текстуру кольору (Albedo/Diffuse map).
* **Reflection (Відбиття) / Roughness (Шорсткість):** Визначає, наскільки поверхня матова чи глянцева. Шорсткість (Roughness) є ключовим параметром PBR: низька шорсткість = дзеркальна поверхня, висока шорсткість = матова поверхня. Можна завантажити текстуру.

ст. 161


шорсткості.

*   **Metallic (Металевість):** Визначає, чи є матеріал металом (значення 0 для діелектриків, 1 для металів). Можна завантажити текстуру металевості.
*   **Normal (Карта нормалей):** Текстура, що додає поверхні дрібну рельєфність (імітація нерівностей, подряпин, візерунків) без зміни геометрії.
*   **Bump (Рельєф) / Displacement (Зміщення):** Створюють більш виражений рельєф. Displacement може реально змінювати геометрію (вимагає більше ресурсів).
*   **Opacity (Непрозорість) / Transparency (Прозорість):** Для скла, води, деяких пластиків.
*   **Glow (Світіння):** Для світних матеріалів (наприклад, екрани, лампи).
*   **Scale (Масштаб текстури):** Дозволяє налаштувати розмір текстури на поверхні, щоб вона виглядала реалістично.
*   **Rotation (Поворот текстури).**
*   **Two-sided (Двосторонній):** Чи буде матеріал видимий з обох боків полігону. Важливо для тонких об'єктів (наприклад, листя, тканина).
*   **Weathering (Зношеність/Старіння):** Деякі матеріали Twinmotion мають вбудовані ефекти старіння (бруд, іржа, мох).

**D. Створення власних матеріалів:**

*   Можна створювати власні матеріали, завантажуючи свої текстури (Albedo, Roughness, Metallic, Normal, Ambient Occlusion, Height) у відповідні слоти.
*   Текстури можна знайти на спеціалізованих ресурсах (наприклад, Quixel Megascans, Poliigon, Textures.com) або створити самостійно.

**E. Робота з дорожньою розміткою:**

*   У бібліотеці Twinmotion (Materials -> Special -> Decals) є готові елементи дорожньої розмітки (лінії, стрілки, пішохідні переходи), які можна розміщувати на поверхні дороги як "декалі" (наклейки).
*   Можна створювати власні декалі з потрібними зображеннями розмітки.
*   Для складних ділянок розмітки, експортованих як окрема геометрія, призначається відповідний білий або жовтий матеріал.

Реалістичні матеріали є ключем до створення переконливої візуалізації. Витратьте достатньо часу на їх налаштування.

### 7.5.4. Насичення сцени деталями: додавання бібліотечних об'єктів

Порожня модель дороги, навіть з гарними матеріалами, виглядатиме неживою. Для додання реалізму та масштабу сцену необхідно наситити деталями з бібліотеки Twinmotion або імпортованими об'єктами.

**A. Бібліотека об'єктів Twinmotion (Library):**

*   **Vegetation (Рослинність):**
    *   **Trees (Дерева):** Велика колекція дерев різних порід та розмірів. Дерева реагують на налаштування сезону (зміна кольору листя, опадання) та вітру.
    *   **Bushes (Кущі).**

<p align="center">ст. 162</p>


*   **Grass (Трава):** Деталізована трава, яку можна "малювати" на поверхнях.
*   **Flowers (Квіти).**
*   **Інструменти для масового розміщення рослинності (Vegetation Paint, Vegetation Scatter):** Дозволяють швидко засадити великі території деревами, кущами, травою.

● **Characters (Персонажі):**
    *   **Humans (Люди):** Статичні 3D-моделі людей у різних позах, а також анімовані персонажі (що йдуть, стоять, розмовляють).
    *   **Groups (Групи людей).**
    *   **Animals (Тварини).**

● **Vehicles (Транспортні засоби):**
    *   **Cars (Автомобілі):** Різні моделі легкових автомобілів.
    *   **Buses (Автобуси).**
    *   **Trucks (Вантажівки).**
    *   **Boats (Човни), Airplanes (Літаки)** тощо.
    *   **Анімація транспорту:** Транспортні засоби можна розміщувати на траєкторіях (Vehicle Paths) для створення анімації руху.

● **City (Міські об'єкти) / Urban (Урбаністика):**
    *   **Street Lights (Вуличні ліхтарі).**
    *   **Benches (Лавки), Bins (Урни).**
    *   **Signs (Знаки):** Деякі базові дорожні знаки (але для точного відтворення краще використовувати власні моделі).
    *   **Fences (Огорожі).**
    *   **Bollards (Стовпчики).**
    *   **Інші елементи міського середовища.**

● **Objects (Об'єкти) / Primitives (Примітиви):**
    *   Базові геометричні форми, які можна використовувати для моделювання простих елементів або як допоміжні об'єкти.

● **Lights (Освітлення):** Різні типи джерел світла (спрямовані, точкові, площинні, IES-профілі) для створення штучного освітлення.

● **Decals (Декалі):** Для нанесення текстур на поверхні (наприклад, тріщини на асфальті, графіті, сліди шин, дорожня розмітка).

### B. Розміщення та налаштування об'єктів:

● Об'єкти з бібліотеки перетягуються у сцену.
● Використовуйте інструменти **"Move"**, **"Rotate"**, **"Scale"** для точного розміщення та налаштування об'єктів.
● Багато об'єктів (наприклад, дерева, люди) мають налаштування варіацій (різні моделі, кольори одягу), щоб уникнути одноманітності.
● Для рослинності можна налаштувати вік, сезонний вигляд.

### C. Імпорт власних об'єктів:

● Якщо потрібних об'єктів немає в бібліотеці Twinmotion, їх можна імпортувати у форматах **FBX**, **SKP**, **OBJ** (наприклад, детальні моделі дорожніх знаків, специфічне обладнання, унікальні малі архітектурні форми).

***
ст. 163


Насичення сцени деталями робить візуалізацію більш живою, реалістичною та допомагає передати масштаб об'єкта. Однак, не варто перевантажувати сцену надмірною кількістю об'єктів, особливо високополігональних, оскільки це може вплинути на продуктивність.

*(Кінець третьої частини відповіді на Розділ 7. Продовження буде в наступному повідомленні, починаючи з пункту 7.5.5 "Налаштування освітлення та погодних умов".)*

### 7.5.5. Налаштування освітлення та погодних умов

Освітлення та атмосферні ефекти відіграють вирішальну роль у створенні настрою та реалізму візуалізації. Twinmotion надає гнучкі інструменти для їх налаштування.

#### A. Природне освітлення (Natural Lighting):

*   **Час доби (Time of day):**
    *   `Settings -> Environment -> Location and Time -> Time of day`.
    *   Дозволяє динамічно змінювати положення сонця від світанку до заходу та нічного часу. Це впливає на напрямок та колір сонячного світла, довжину та інтенсивність тіней.
    *   Важливо експериментувати з різним часом доби, щоб знайти найбільш вигідне освітлення для вашої сцени та об'єкта.
*   **Місяць року (Month of year):**
    *   `Settings -> Environment -> Location and Time -> Month of year`.
    *   Впливає на висоту сонця над горизонтом та траєкторію його руху, що також змінює характер освітлення та тіней.
*   **Орієнтація на Північ (North offset):**
    *   `Settings -> Environment -> Location and Time -> North offset`.
    *   Дозволяє правильно зорієнтувати модель відносно сторін світу, щоб сонячне світло падало коректно відповідно до реального розташування об'єкта. Якщо модель була імпортована з географічною прив'язкою, цей параметр може бути встановлений автоматично.
*   **Інтенсивність сонця (Sun intensity) та Небесного купола (Skydome intensity):**
    *   `Settings -> Rendering -> Global Illumination -> Sun intensity / Skydome intensity`.
    *   Дозволяють регулювати яскравість прямого сонячного світла та розсіяного світла від неба.
*   **HDRI Оточення (HDRI Environment):**
    *   `Settings -> Environment -> HDRI Environment`.
    *   Використання HDRI-карт (High Dynamic Range Image) для освітлення сцени є потужним інструментом для досягнення реалістичного природного світла. HDRI-карта містить інформацію про освітлення з усіх напрямків.
    *   Twinmotion має вбудовану бібліотеку HDRI, а також дозволяє завантажувати власні.
    *   Можна налаштувати інтенсивність та поворот HDRI для досягнення потрібного ефекту.

#### B. Штучне освітлення (Artificial Lighting):

*   `Library -> Lights`.

<br>
<p align="center">ст. 164</p>


*   Використовується для нічних сцен, освітлення тунелів, підземних переходів, акцентного підсвічування елементів.
*   **Типи джерел світла:**
    *   **Omnidirectional light (Всеспрямоване світло):** Світить у всіх напрямках від точки (як лампочка).
    *   **Spot light (Прожектор):** Спрямоване конічне джерело світла.
    *   **Area light (Площинне світло):** Світить від прямокутної або дископодібної площини (для імітації вікон, світлових панелей).
    *   **Neon light (Неонове світло):** Лінійне або фігурне джерело світла.
    *   **IES Profiles (IES Профілі):** Дозволяють завантажувати фотометричні файли у форматі .ies, які описують реальний розподіл світла від конкретних моделей світильників. Це забезпечує найбільш реалістичне штучне освітлення.
*   **Налаштування джерел світла:**
    *   **Intensity (Інтенсивність).**
    *   **Color (Колір світла).**
    *   **Attenuation (Затухання):** Радіус дії світла.
    *   **Angle (Кут розкриття конуса)** (для прожекторів).
    *   **Shadows (Тіні):** Увімкнення/вимкнення відкидання тіней.

### C. Погодні умови (Weather):

*   **Settings -> Environment -> Weather.**
*   **Погода (Weather):** Слайдер, що дозволяє плавно переходити між різними станами:
    *   **Сонячно (Sunny).**
    *   **Хмарно (Cloudy):** Налаштування типу та щільності хмар.
    *   **Дощ (Rain):** Імітація дощу, мокрих поверхонь, брижів на воді.
    *   **Сніг (Snow):** Імітація снігопаду, накопичення снігу на поверхнях.
*   **Ефекти погоди (Weather effects):**
    *   **Туман (Fog):** Налаштування щільності та висоти туману.
    *   **Вітер (Wind):** Впливає на анімацію рослинності.
*   **Пори року (Season):**
    *   **Settings -> Environment -> Location and Time -> Season.**
    *   Динамічно змінює вигляд рослинності (колір листя, наявність снігу на деревах) відповідно до обраної пори року.

Експериментування з різними комбінаціями освітлення та погодних умов дозволяє створити потрібну атмосферу та показати об'єкт у різних сценаріях.